"use client";

import { motion, useCycle } from "framer-motion";
import React from "react";

const paths = [
  "M35.4,-50.4C48.2,-39.4,62.6,-32.2,68.8,-20.6C75.1,-8.9,73.3,7.2,66.1,19C58.8,30.8,46,38.3,34.1,49.9C22.2,61.5,11.1,77.1,-1.6,79.3C-14.2,81.4,-28.4,70,-39.8,58.2C-51.1,46.5,-59.7,34.3,-65.6,20.3C-71.6,6.3,-74.9,-9.6,-72.1,-25.1C-69.3,-40.6,-60.4,-55.7,-47.3,-66.6C-34.3,-77.5,-17.1,-84.2,-2.9,-80.2C11.3,-76.2,22.6,-61.4,35.4,-50.4Z",
  "M35.8,-47.6C46.9,-41.1,56.9,-31.4,64.4,-18.6C71.8,-5.7,76.6,10.4,74.2,26.1C71.9,41.9,62.3,57.3,48.8,61.9C35.2,66.6,17.6,60.5,1.7,58.2C-14.3,56,-28.6,57.5,-39.3,51.9C-50.1,46.3,-57.3,33.6,-59.5,20.8C-61.6,7.9,-58.8,-5.1,-57.8,-22.1C-56.8,-39,-57.7,-59.8,-48.4,-66.9C-39,-74.1,-19.5,-67.5,-3.6,-62.6C12.3,-57.6,24.6,-54.2,35.8,-47.6Z",
  "M44.8,-62.3C58.3,-51.9,69.7,-39.1,75.7,-23.8C81.7,-8.5,82.5,9.3,74.5,21.2C66.4,33.1,49.7,39.2,35.8,48.1C21.9,56.9,11,68.6,-2.7,72.2C-16.3,75.9,-32.5,71.5,-46.1,62.6C-59.6,53.6,-70.4,40,-72.9,25.3C-75.5,10.6,-69.9,-5.1,-62.7,-18.3C-55.6,-31.4,-46.9,-42,-36.2,-53.2C-25.4,-64.5,-12.7,-76.4,1.5,-78.5C15.7,-80.5,31.3,-72.6,44.8,-62.3Z",
  "M39.2,-52.8C54.3,-42.9,72.7,-36.2,78.7,-24.1C84.8,-11.9,78.4,5.7,68.8,18.4C59.2,31.1,46.5,38.8,34.5,46.5C22.5,54.1,11.2,61.8,-0.4,62.4C-12.1,63,-24.2,56.4,-36.2,48.8C-48.3,41.1,-60.4,32.3,-66.2,20.1C-72.1,8,-71.7,-7.6,-68.7,-24C-65.7,-40.4,-60.1,-57.7,-48.2,-68.7C-36.3,-79.8,-18.1,-84.7,-3.1,-80.4C12,-76.2,24,-62.8,39.2,-52.8Z",
];

interface AnimatedBlobProps {
  width?: number;
  height?: number;
  fill?: string;
}

export const AnimatedBlob: React.FC<AnimatedBlobProps> = ({
  width = 550,
  height = 550,
  fill = "#FF0066",
}) => {
  const [index, cycleIndex] = useCycle(0, 1, 2, 3);

  return (
    <svg viewBox="0 0 200 200" width={width} height={height}>
      <motion.path
        fill={fill}
        d={paths[index]}
        animate={{ d: paths[(index + 1) % paths.length] }}
        transition={{ duration: 1.5, ease: "easeInOut" }}
        onAnimationComplete={() => cycleIndex()}
        transform="translate(80 120)"
      />
    </svg>
  );
};
